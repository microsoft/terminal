<!-- Copyright (c) Microsoft Corporation. All rights reserved. Licensed under
the MIT License. See LICENSE in the project root for license information. -->
<Page
    x:Class="TerminalApp.TerminalPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TerminalApp"
    xmlns:mux="using:Microsoft.UI.Xaml.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Resources>
        <ResourceDictionary>
            <local:WindowIdConverter x:Key="WindowIdConverter"/>
            <local:WindowNameConverter x:Key="WindowNameConverter"/>
        </ResourceDictionary>
    </Page.Resources>

    <Grid x:Name="Root" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <local:TabRowControl x:Name="TabRow" Grid.Row="0" />

        <Grid x:Name="TabContent" Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />

        <ContentDialog
            x:Load="False"
            x:Name="AboutDialog"
            x:Uid="AboutDialog"
            DefaultButton="Close">
            <StackPanel Orientation="Vertical">
                <TextBlock IsTextSelectionEnabled="True">
                    <Run Text="{x:Bind ApplicationDisplayName}" /> <LineBreak />
                    <Run x:Uid="AboutDialog_VersionLabel" />
                    <Run Text="{x:Bind ApplicationVersion}" />
                </TextBlock>
                <HyperlinkButton
                    x:Uid="AboutDialog_DocumentationLink"
                    NavigateUri="https://go.microsoft.com/fwlink/?linkid=2125416" />
                <HyperlinkButton
                    x:Uid="AboutDialog_ReleaseNotesLink"
                    NavigateUri="https://go.microsoft.com/fwlink/?linkid=2125417" />
                <HyperlinkButton
                    x:Uid="AboutDialog_PrivacyPolicyLink"
                    NavigateUri="https://go.microsoft.com/fwlink/?linkid=2125418" />
                <HyperlinkButton
                    x:Uid="AboutDialog_ThirdPartyNoticesLink"
                    Click="_ThirdPartyNoticesOnClick" />
            </StackPanel>
        </ContentDialog>

        <ContentDialog
            x:Load="False"
            x:Name="CloseAllDialog"
            x:Uid="CloseAllDialog"
            DefaultButton="Primary">
        </ContentDialog>

        <ContentDialog
            x:Load="False"
            x:Name="CloseReadOnlyDialog"
            x:Uid="CloseReadOnlyDialog"
            DefaultButton="Primary">
        </ContentDialog>

        <ContentDialog
            x:Load="False"
            x:Name="MultiLinePasteDialog"
            x:Uid="MultiLinePasteDialog"
            DefaultButton="Primary">
            <StackPanel>
                <TextBlock
                    x:Uid="MultiLineWarningText"
                    TextWrapping="Wrap">
                </TextBlock>
                <TextBlock
                    x:Uid="ClipboardTextHeader"
                    Margin="0,16,0,0">
                </TextBlock>
                <ScrollViewer
                    Margin="0,8,0,0"
                    x:Name="ClipboardContentScrollViewer"
                    MaxHeight="100">
                    <TextBlock
                        x:Name="ClipboardText"
                        TextWrapping="Wrap"
                        FontFamily="Cascadia Mono">
                    </TextBlock>
                </ScrollViewer>
            </StackPanel>
        </ContentDialog>

        <ContentDialog
            x:Load="False"
            x:Name="LargePasteDialog"
            x:Uid="LargePasteDialog"
            DefaultButton="Primary">
        </ContentDialog>

        <ContentDialog
            x:Load="False"
            x:Name="ControlNoticeDialog"
            x:Uid="ControlNoticeDialog"
            DefaultButton="Primary">
            <TextBlock IsTextSelectionEnabled="True" TextWrapping="WrapWholeWords">
                <Run x:Name="NoticeMessage"/>
            </TextBlock>
        </ContentDialog>

        <ContentDialog
            x:Load="False"
            x:Name="CouldNotOpenUriDialog"
            x:Uid="CouldNotOpenUriDialog"
            DefaultButton="Primary">
            <TextBlock IsTextSelectionEnabled="True" TextWrapping="WrapWholeWords">
                <Run x:Name="CouldNotOpenUriReason" /> <LineBreak />
                <Run
                    x:Name="UnopenedUri"
                    FontFamily="Cascadia Mono">
                </Run>
            </TextBlock>
        </ContentDialog>

        <local:CommandPalette
            x:Name="CommandPalette"
            Grid.Row="1"
            Visibility="Collapsed"
            PreviewKeyDown="_KeyDownHandler"
            VerticalAlignment="Stretch" />

        <mux:InfoBar x:Name="KeyboardWarningInfoBar"
                     x:Load="False"
                     IsClosable="True"
                     IsIconVisible="True"
                     IsOpen="False"
                     Severity="Warning"
                     Message="{x:Bind KeyboardServiceDisabledText, Mode=OneWay}"/>

        <!-- A TeachingTip with IsLightDismissEnabled="True" will immediately
        dismiss itself if the window is unfocused (In Xaml Islands). This is
        tracked by MUX#4382-->
        <mux:TeachingTip x:Name="WindowIdToast"
                         IsLightDismissEnabled="True"
                         Title="{x:Bind WindowId, Mode=OneWay, Converter={StaticResource WindowIdConverter}}"
                         Subtitle="{x:Bind WindowName, Mode=OneWay, Converter={StaticResource WindowNameConverter}}">
        </mux:TeachingTip>

        <mux:TeachingTip x:Name="WindowRenamer"
                         Title="{x:Bind WindowId, Mode=OneWay, Converter={StaticResource WindowIdConverter}}"
                         Subtitle="Enter a new name:"
                         ActionButtonContent="Ok"
                         CloseButtonContent="Cancel">
            <mux:TeachingTip.Content>
                <TextBox x:Name="WindowRenamerTextBox"
                         Text="{x:Bind WindowName}">
                </TextBox>
            </mux:TeachingTip.Content>
        </mux:TeachingTip>
    </Grid>
</Page>
