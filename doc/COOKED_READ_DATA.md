# COOKED_READ_DATA, aka conhost's readline implementation

## Test instructions

All of the following âœ… marks must be fulfilled during manual testing:
* ASCII input
* Chinese input (ä¸­æ–‡ç¶­åŸºç™¾ç§‘) âœ…
* Surrogate pair input (ðŸ™‚) âœ…
* In cmd.exe
  * Create 2 file: "aðŸ˜Šb.txt" and "aðŸ˜Ÿb.txt"
  * Press tab: Autocomplete to "aðŸ˜Šb.txt" âœ…
  * Navigate the cursor right past the "a"
  * Press tab twice: Autocomplete to "aðŸ˜Ÿb.txt" âœ…
* Execute `printf("    "); gets(buffer);` in C (or equivalent)
  * Press Tab, A, Ctrl+V, Tab, A âœ…
  * The prompt is "        A^V     A" âœ…
  * Cursor navigation works âœ…
  * Backspacing/Deleting random parts of it works âœ…
  * It never deletes the initial 4 spaces âœ…
* Backspace deletes preceding glyphs âœ…
* Ctrl+Backspace deletes preceding words âœ…
* Escape clears input âœ…
* Home navigates to start âœ…
* Ctrl+Home deletes text between cursor and start âœ…
* End navigates to end âœ…
* Ctrl+End deletes text between cursor and end âœ…
* Left navigates over previous code points âœ…
* Ctrl+Left navigates to previous word-starts âœ…
* Right and F1 navigate over next code points âœ…
  * Pressing right at the end of input copies characters
    from the previous command âœ…
* Ctrl+Right navigates to next word-ends âœ…
* Insert toggles overwrite mode âœ…
* Delete deletes next code point âœ…
* Up and F5 cycle through history âœ…
  * Doesn't crash with no history âœ…
  * Stops at first entry âœ…
* Down cycles through history âœ…
  * Doesn't crash with no history âœ…
  * Stops at last entry âœ…
* PageUp retrieves the oldest command âœ…
* PageDown retrieves the newest command âœ…
* F2 starts "copy to char" prompt âœ…
  * Escape dismisses prompt âœ…
  * Typing a character copies text from the previous command up
    until that character into the current buffer (acts identical
    to F3, but with automatic character search) âœ…
* F3 copies the previous command into the current buffer,
  starting at the current cursor position,
  for as many characters as possible âœ…
  * Doesn't erase trailing text if the current buffer
    is longer than the previous command âœ…
  * Puts the cursor at the end of the copied text âœ…
* F4 starts "copy from char" prompt âœ…
  * Escape dismisses prompt âœ…
  * Erases text between the current cursor position and the
    first instance of a given char (but not including it) âœ…
* F6 inserts Ctrl+Z âœ…
* F7 without modifiers starts "command list" prompt âœ…
  * Escape dismisses prompt âœ…
  * Entries wider than the window width are truncated âœ…
  * Height expands up to 20 rows with longer histories âœ…
  * F9 starts "command number" prompt âœ…
  * Left/Right replace the buffer with the given command âœ…
    * And put cursor at the end of the buffer âœ…
  * Up/Down navigate selection through history âœ…
    * Stops at start/end with <10 entries âœ…
    * Stops at start/end with >20 entries âœ…
    * Scrolls through the entries if there are too many âœ…
  * Shift+Up/Down moves history items around âœ…
  * Home navigates to first entry âœ…
  * End navigates to last entry âœ…
  * PageUp navigates by $height items at a time or to first âœ…
  * PageDown navigates by $height items at a time or to last âœ…
* Alt+F7 clears command history âœ…
* F8 cycles through commands that start with the same text as
  the current buffer up until the current cursor position âœ…
  * Doesn't crash with no history âœ…
* F9 starts "command number" prompt âœ…
  * Escape dismisses prompt âœ…
  * Ignores non-ASCII-decimal characters âœ…
  * Allows entering between 1 and 5 digits âœ…
  * Pressing Enter fetches the given command from the history âœ…
* Alt+F10 clears doskey aliases âœ…
* In cmd.exe, with an empty prompt in an empty directory:
  Pressing tab produces an audible bing and prints no text âœ…
* When Narrator is enabled, in cmd.exe:
  * Typing individual characters announces only
    exactly each character that is being typed âœ…
  * Backspacing at the end of a prompt announces
    only exactly each deleted character âœ…
